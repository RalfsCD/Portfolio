/* ========= THEME VARIABLES ========= */
:root{
  --mx: 0; --my: 0;

  /* krāsainais gradients */
  --g1: 264 88% 60%;
  --g2: 200 92% 62%;
  --g3: 320 86% 58%;
  --g4: 42 94% 60%;

  --surface: rgba(255,255,255,0.06);
  --border: rgba(255,255,255,0.18);
  --border-strong: rgba(255,255,255,0.35);
  --text: #fff;
}
:root.theme-dark{
  /* pelēktoņu gradients */
  --g1: 0 0% 28%;
  --g2: 0 0% 20%;
  --g3: 0 0% 14%;
  --g4: 0 0% 32%;

  --surface: rgba(255,255,255,0.05);
  --border: rgba(255,255,255,0.16);
  --border-strong: rgba(255,255,255,0.32);
  --text: #f5f5f5;
}

/* ========= LAYOUT & BG ========= */
.page {
  position: relative;
  min-height: 100%;
  isolation: isolate;
  color: var(--text);
  overflow-x: clip;
}

/* Fixed, full-viewport gradient that sits behind everything.
   This avoids the “black bottom strip” on some Windows/Chrome setups. */
.page::before{
  content: "";
  position: fixed;
  inset: -10% -10%;              /* overscan so edges never show */
  z-index: -2;
  pointer-events: none;
  will-change: transform;
  background:
    radial-gradient(1400px 900px at calc(50% + 28% * var(--mx)) calc(50% + 28% * var(--my)),
      hsl(var(--g1) / 0.35), transparent 60%),
    radial-gradient(1200px 800px at calc(50% - 30% * var(--mx)) calc(50% - 26% * var(--my)),
      hsl(var(--g2) / 0.35), transparent 60%),
    radial-gradient(1100px 720px at calc(50% + 10% * var(--mx)) calc(50% - 34% * var(--my)),
      hsl(var(--g3) / 0.30), transparent 60%),
    linear-gradient(135deg,
      hsl(var(--g1) / 0.35),
      hsl(var(--g2) / 0.35),
      hsl(var(--g3) / 0.35),
      hsl(var(--g4) / 0.35));
  background-size: 200% 200%;
  background-repeat: no-repeat;
  animation: bgShift 18s ease-in-out infinite alternate;
}
@keyframes bgShift {
  0%   { background-position: 0% 30%, 100% 70%, 30% 10%, 0% 0%; }
  50%  { background-position: 40% 60%, 60% 40%, 60% 30%, 50% 50%; }
  100% { background-position: 80% 30%, 0% 70%, 10% 80%, 100% 100%; }
}

/* ===== Navbar (liquid glass on scroll/hover) ===== */
.navbar{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 64px;
  display: grid;
  place-items: center;
  z-index: 5;
  pointer-events: none;
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  transition: background .25s ease, border-color .25s ease, box-shadow .25s ease, backdrop-filter .25s ease;
}
.navbar__inner{
  width: min(1100px, 100%);
  padding: 0 clamp(16px, 5vw, 60px);
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 12px;
  pointer-events: auto;
}
.brand{
  font-weight: 900;
  letter-spacing: -0.02em;
  font-size: 18px;
  opacity: .95;
  text-shadow: 0 0 16px hsl(var(--g2) / 0.35);
  text-decoration: none;
  color: var(--text);
}
.nav{
  display: inline-flex;
  align-items: center;
  gap: clamp(12px, 3vw, 28px);
  justify-content: center;
}
.nav__link{
  color: var(--text);
  text-decoration: none;
  font-weight: 800;
  letter-spacing: .2px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: transparent;
  transition: background .2s ease, border-color .2s ease, transform .2s ease;
}
.nav__link:hover{
  background: var(--surface);
  border-color: var(--border);
  transform: translateY(-1px);
}

/* show “glass” when scrolled or when hovering navbar */
:root.scrolled .navbar,
.navbar:hover {
  background: linear-gradient(180deg, rgba(10,12,16,0.26), rgba(10,12,16,0.18)) border-box;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 10px 32px rgba(0,0,0,0.25);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
}

/* Theme toggle button */
.btn{
  --bg: var(--surface);
  --bd: var(--border);
  --tx: var(--text);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid var(--bd);
  background: var(--bg);
  color: var(--tx);
  text-decoration: none;
  font-weight: 800;
  letter-spacing: 0.2px;
  transition: transform .2s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  box-shadow: 0 8px 24px rgba(0,0,0,0.18);
  backdrop-filter: blur(6px);
  justify-self: end;
}
.btn:hover { transform: translateY(-1px) scale(1.02); border-color: var(--border-strong); }
.toggle-text{ font-size: 12px; opacity: .9; }

/* Floating shapes (unchanged) */
.shapes { position: absolute; inset: -10% -10%; pointer-events: none; z-index: -1; }
.shape {
  position: absolute;
  transform-style: preserve-3d;
  will-change: transform, filter, opacity;
  background: radial-gradient(120% 120% at 30% 30%,
    hsl(var(--h) / 0.85),
    hsl(calc(var(--h) + 40deg) / 0.55) 55%,
    transparent 65%);
  box-shadow: 0 0 24px hsl(var(--h) / 0.25), 0 0 64px hsl(calc(var(--h) + 40deg) / 0.25);
  animation:
    float var(--float-dur, 18s) ease-in-out var(--float-delay, 0s) infinite alternate,
    sway calc(var(--float-dur, 18s) * 1.2) ease-in-out var(--float-delay, 0s) infinite alternate;
  transform: translate3d(0,0,0) rotate(var(--base-rot, 0))
    translate(calc(16px * var(--mx) * var(--parallax, 0.07)),
              calc(16px * var(--my) * var(--parallax, 0.07)));
  transition: filter .25s ease, opacity .25s ease, transform .25s ease;
  mix-blend-mode: screen;
}
.shape.z1 { filter: brightness(1.05) saturate(1.1); }
.shape.z0 { filter: brightness(0.95) saturate(0.95) blur(0.5px); }
@keyframes float { from { transform: translate3d(0,-12px,0) rotate(var(--base-rot,0)); } to { transform: translate3d(0,16px,0) rotate(calc(var(--base-rot,0) + 10deg)); } }
@keyframes sway  { from { margin-left: -6px; } to   { margin-left: 6px; } }
@media (pointer: fine) {
  .shapes { pointer-events: auto; }
  .shape { cursor: pointer; }
  .shape:hover {
    transform: translate3d(0,0,0) rotate(calc(var(--base-rot,0) + 25deg))
      translate(calc(52px * var(--mx) * var(--parallax,.07)),
                calc(52px * var(--my) * var(--parallax,.07))) scale(1.35);
    filter: hue-rotate(40deg) saturate(1.35) brightness(1.08);
    opacity: .95;
  }
}

/* ===== Hero ===== */
.hero{
  position: relative;
  min-height: 82dvh;
  max-width: 1100px;
  margin: 0 auto;
  padding: calc(64px + 24px) clamp(24px, 5vw, 60px) 24px; /* top includes navbar height */
  display: grid;
  place-items: center;
  text-align: center;
}
.title{
  font-size: clamp(48px, 8.5vw, 120px);
  line-height: 1.02;
  font-weight: 900;
  letter-spacing: -0.02em;
  margin: 0;
  background: linear-gradient(90deg, hsl(var(--g1)), hsl(var(--g2)), hsl(var(--g3)), hsl(var(--g4)));
  background-size: 200% 100%;
  -webkit-background-clip: text; background-clip: text; color: transparent;
  animation: titleShift 8s ease-in-out infinite alternate;
  text-shadow: 0 0 20px hsl(var(--g2) / 0.25), 0 0 42px hsl(var(--g3) / 0.25);
}
@keyframes titleShift { from {background-position:0% 0%} to {background-position:100% 0%} }

/* ===== Sections ===== */
.section{
  position: relative;
  z-index: 0;
  max-width: 1100px;
  margin: 0 auto;
  padding: clamp(24px, 6vw, 80px) clamp(16px, 5vw, 60px);
  scroll-margin-top: 80px; /* enkurs zem fixed navbar */
}
.section__title{
  margin: 0 0 12px;
  font-size: clamp(24px, 4vw, 36px);
  font-weight: 900;
  letter-spacing: .2px;
  color: var(--text);
  text-shadow: 0 0 20px hsl(var(--g1) / 0.25);
}
.section-about .about-text{
  margin: 8px 0 0;
  max-width: 70ch;
  color: rgba(255,255,255,.88);
}

/* Projekti — vietturis */
.section-head{ display: flex; align-items: center; gap: 10px; }
.badge.soon{
  font-size: 12px; font-weight: 800; padding: 4px 8px; border-radius: 999px;
  border: 1px solid var(--border); background: var(--surface);
}
.projects-grid{
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 14px;
}
.project-card{
  border: 1px solid var(--border);
  background: var(--surface);
  border-radius: 14px;
  padding: 12px;
  min-height: 150px;
  overflow: hidden;
  position: relative;
}
.skeleton .skel-thumb{
  height: 92px; border-radius: 10px;
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.12), rgba(255,255,255,0.06));
  background-size: 200% 100%; animation: shimmer 1.8s linear infinite;
}
.skeleton .skel-lines{ margin-top: 12px; display: grid; gap: 8px; }
.skeleton .skel-line{
  height: 10px; border-radius: 6px;
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.12), rgba(255,255,255,0.06));
  background-size: 200% 100%; animation: shimmer 1.8s linear infinite;
}
.skeleton .skel-line.short{ width: 60%; }
@keyframes shimmer{ 0% { background-position: 0% 0%; } 100% { background-position: 200% 0%; } }
.projects-note{ margin-top: 10px; opacity: .9; }

/* Kontakti */
.section-kontakti{ display: grid; align-content: start; gap: 22px; }
.contact-grid{ display: grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap: 14px; }
.contact-item{
  display: flex; align-items: center; gap: 12px; padding: 14px 16px;
  border-radius: 14px; border: 1px solid var(--border); background: var(--surface);
  color: var(--text); text-decoration: none;
  transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
  backdrop-filter: blur(6px);
}
.contact-item:hover{
  transform: translateY(-1px);
  border-color: var(--border-strong);
  box-shadow: 0 10px 26px rgba(0,0,0,0.25), 0 0 36px hsl(var(--g3) / 0.25);
}
.icon{ flex: 0 0 auto; display:inline-block; vertical-align:middle; filter: drop-shadow(0 0 6px rgba(0,0,0,0.2)); }
.contact-text{ font-weight: 800; letter-spacing: .2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Soft vignette (above the gradient, still behind content) */
.vignette{
  position: fixed; inset: 0; pointer-events: none;
  background:
    radial-gradient(1200px 800px at 50% 50%, transparent 40%, rgba(0,0,0,0.25) 75%),
    radial-gradient(250px 250px at calc(50% + 35% * var(--mx)) calc(50% + 35% * var(--my)), rgba(0,0,0,0.18), transparent 55%);
  z-index: -1;
}
